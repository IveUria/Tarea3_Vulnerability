package control;
import io.qameta.allure.Step;
import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import session.Session;
public class ControlSelenium {
    protected  WebElement webElement;
    protected By locator;
    protected String myNameControl;
    public ControlSelenium (By locator, String myNameControl){
        this.locator = locator;
        this.myNameControl = myNameControl;
    }
    //metodo para creara @Step
    @Step("{0}")
    public void allureStep (String action){}
    //busqueda de un elemento
    protected void findElement (){
        this.webElement = Session.getInstance().getDriver().findElement(this.locator);
    }
    public void click(){
        this.allureStep("Click sobre: " + this.myNameControl);
        this.findElement();
        this.webElement.click();
    }
    //ingresar datos
    public void type(String value){
        this.allureStep("Type valor: "+ value + " sobre "+ this.myNameControl);
        this.findElement();
        this.webElement.sendKeys(value);
    }
    //
    //metodo que nos devuelva si es visible o no un elemento
    public boolean isDisplayedOnPage(){
        try {
            this.allureStep(" ' "+ this.myNameControl+" es visible ?");
            this.findElement();
            return this.webElement.isDisplayed();
        }catch (Exception e){
            return false;
        }
    }
}
